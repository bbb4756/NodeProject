{% extends 'utils/header.html' %}
{% block content %}
    <div id="us_cate1">
        <div id="cate1_bduser">
            <h2> 게시글 보기 </h2>
        </div>
        <table id="board_table">
            <thead id="board_thead">
                <tr>
                    <th>번호</th>
                    <th>제목</th>
                    <th>작성자</th>
                    <th>작성일</th>
                    <th>조회수</th>
                </tr>
            </thead>
    
            <tbody id="profile_user">
    
            </tbody> 
        </table>
        <div id="paging">
            <ul>
                
            </ul>
        </div>
        <template id = "profiles_users"> 
                <tr>
                    <th id="idx">{idx}</th>
                    <th id="temp_title"><a href="/board/cate1/view?idx={idx}" id="title">{title}</a></th> 
                    <th id="nickname">{nickname}</th> 
                    <th id="date">{date}</th>
                    <th id="hit">{hit}</th>
                </tr>
            
            </table>
        </template>
    </div>

<script type="text/javascript">
    document.addEventListener('DOMContentLoaded',async() =>{
        let template = ''
        const profile = document.querySelector('#profile_user')
        const profiles = document.querySelector('#profiles_users').innerHTML

        const option = {
            'Content-type':'application/json',
            withCredentials:true
        }

        const response = await axios.post('http://localhost:4000/api/user/userprofile',null,option)
        console.log(response.data.result)
        if(response.data.errno == 0){
           for(let i = 0; i< response.data.result.length; i++){
            const {idx,title,nickname,date,hit} = response.data.result[i]
            template += profiles.replaceAll('{idx}',idx)
                                .replace('{title}',title,)
                                .replace('{nickname}',nickname)
                                .replace('{date}',date)
                                .replace('{hit}',hit)
                                // .replace("{{idx}}",)
                                
                                
            profile.innerHTML = template
            }
        }

    })

</script>
<style>
    /* #profile_user{
        font-size:16px;
    }

    #profile_user > tr {
        height:60px;
        padding:5px;
        border-bottom: 1px solid #e2e2e2;
        font-size:20px;
    }

    #profile_user > tr > #tem_title {
        text-align:left;
        font-style:normal; 
    } */
    #footer_wrap {
    bottom: -650px !important;
    position: relative;

}
</style>
{% endblock %}
